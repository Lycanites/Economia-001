<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Logus AR Experience</title>

    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>

  <body style="margin: 0; overflow: hidden">
    <a-scene
      vr-mode-ui="enabled: false"
      renderer="colorManagement: true;"
      xrweb="optionalFeatures: hit-test, local-floor;"
      embedded
      arjs="false"
    >
      <!-- Cámara AR -->
      <a-camera position="0 1.6 0"></a-camera>

      <!-- Luz -->
      <a-light type="ambient" intensity="1"></a-light>
      <a-light type="directional" position="1 3 2" intensity="1"></a-light>

      <!-- Modelo principal -->
      <a-entity
        id="economia"
        position="0 0 -2"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 12000; easing: linear"
      >
        <!-- Círculo central -->
        <a-torus
          color="#00ffff"
          radius="0.8"
          radius-tubular="0.05"
          animation="property: material.emissiveIntensity; dir: alternate; dur: 1500; loop: true; to: 1"
        >
        </a-torus>

        <!-- Familias -->
        <a-sphere
          position="1.5 0 0"
          radius="0.3"
          color="#ff4b5c"
          class="clickable"
          id="familias"
        >
        </a-sphere>

        <!-- Empresas -->
        <a-box
          position="-1.5 0 0"
          depth="0.5"
          height="0.5"
          width="0.5"
          color="#4cc9f0"
          class="clickable"
          id="empresas"
        >
        </a-box>

        <!-- Texto dinámico -->
        <a-text
          id="info"
          value="Flujo Circular Economico"
          align="center"
          position="0 1.5 0"
          color="#ffffff"
        >
        </a-text>
      </a-entity>
    </a-scene>

    <script>
      let puntos = 0;

      document
        .querySelector("#familias")
        .addEventListener("click", function () {
          document
            .querySelector("#info")
            .setAttribute(
              "value",
              "Familias: Consumen bienes y ofrecen trabajo",
            );
          puntos++;
          alert("Correcto! +1 punto");
        });

      document
        .querySelector("#empresas")
        .addEventListener("click", function () {
          document
            .querySelector("#info")
            .setAttribute(
              "value",
              "Empresas: Producen bienes y pagan salarios",
            );
          puntos++;
          alert("Correcto! +1 punto");
        });
    </script>
  </body>
</html>
